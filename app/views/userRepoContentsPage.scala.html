@import models.{User,Content}
@(username: String)(repoName: String)(contents: List[Content])

<!DOCTYPE html>
<html lang="en">
<head>
    <title>@repoName</title>

</head>
<body>

    <h3>Github</h3>
    <a href=@{controllers.routes.HomeController.getUser(username)}>Back to @username</a>
    <a href=@{controllers.routes.HomeController.getUserRepositories(username)}>Back to Repositories</a>
    <hr>
    <h1>@repoName contents:</h1>

    <section>
        <p>-----------------------</p>
        @contents.map { file =>
            <element>
                <h4>@file.name</h4>
                <p>@{ if (file.`type`.contains("dir")) "Folder" else if(file.`type`.contains("file")) "File" else "Other"}</p>
                @*
                <p>@file.size</p>
                *@

                <a href=@{
                   if (file.`type`.contains("dir"))
                        controllers.routes.HomeController.getUserRepositoryContentsPath(username, repoName, s"/${file.name}")
                   else if (file.`type`.contains("file"))
                        controllers.routes.HomeController.getFileContents(username, repoName, s"/${file.name}")
                }>
                    @{ if (file.`type`.contains("dir")) "Open folder" else if(file.`type`.contains("file")) "Open file" else "Open"}
                </a>
            </element>
            <p>-----------------------</p>
        }
    </section>

</body>
</html>
